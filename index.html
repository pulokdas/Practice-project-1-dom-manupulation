<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Donation</title>
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@5"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>

  <body>
    <!-- Navbar section -->
    <div class="navbar bg-[#fbf8f8] h-24">
      <div class="navbar-start ml-20">
        <a class="btn bg-[#B4F461] text-xl">Blog</a>
      </div>
      <div class="navbar-center hidden lg:flex gap-3">
        <img src="./assets/logo.png" alt="" />
        <p class="font-bold text-lg">Donate Bangladesh</p>
      </div>
      <div class="navbar-end mr-20">
        <a class="btn btn-disabled text-black">
          <img src="./assets/coin.png" alt="" />
          <span id="availableBalance">5500</span> BDT</a
        >
      </div>
    </div>
    <!-- Navigation button added -->
    <section class="navigationButtons flex items-center justify-center my-16">
      <div class="flex gap-3">
        <a class="btn bg-[#B4F461] text-xl">Donation</a>
        <a class="btn text-xl">History</a>
      </div>
    </section>
    <!-- Donation Cards Added -->
    <section class="donationCards">
      <div class="w-[80%] m-auto flex flex-col space-y-6">
        <div class="card lg:card-side bg-base-100 border border-gray-200">
          <div class="p-8">
            <figure class="rounded-lg w-full lg:w-100">
              <img src="assets/noakhali.png" alt="Movie" />
            </figure>
          </div>
          <div class="card-body">
            <div>
              <a class="btn btn-disabled text-black">
                <img src="./assets/coin.png" alt="" />
                <span class="donationTotal">0</span> BDT</a
              >
            </div>
            <h2 class="card-title text-2xl">
              Donate for Flood at Noakhali, Bangladesh
            </h2>
            <p class="text-justify">
              The recent floods in Noakhali have caused significant damage to
              homes infrastructure. Your donation will help provide essential
              supplies and to those affected by this disaster. Every
              contribution, big or small, makes difference. Please join us in
              supporting the relief efforts and making a positive impact on the
              lives of those in need.
            </p>

            <input
              type="number"
              placeholder="Write Donation Amount"
              class="input w-full"
            />
            <a class="btn donate-btn bg-[#B4F461] text-lg font-bold text-black">
              Donate Now
            </a>
          </div>
        </div>
        <div class="card lg:card-side bg-base-100 border border-gray-200">
          <div class="p-8">
            <figure class="rounded-lg w-full lg:w-100">
              <img src="assets/feni.png" alt="Movie" />
            </figure>
          </div>
          <div class="card-body">
            <div>
              <a class="btn btn-disabled text-black">
                <img src="./assets/coin.png" alt="" />
                <span class="donationTotal">0</span> BDT</a
              >
            </div>
            <h2 class="card-title text-2xl">
              Donate for Flood Relief in Feni,Bangladesh
            </h2>
            <p class="text-justify">
              The recent floods in Feni have devastated local communities,
              leading to severe disruption and loss. Your generous donation will
              help provide immediate aid, including food, clean water, and
              medical supplies, to those affected by this calamity. Together, we
              can offer crucial support and help rebuild lives in the aftermath
              of this disaster. Every contribution counts towards making a real
              difference. Please consider donating today to assist those in
              urgent need.
            </p>

            <input
              type="number"
              placeholder="Write Donation Amount"
              class="input w-full"
            />
            <a class="btn donate-btn bg-[#B4F461] text-lg font-bold text-black">
              Donate Now
            </a>
          </div>
        </div>
        <div class="card lg:card-side bg-base-100 border border-gray-200">
          <div class="p-8">
            <figure class="rounded-lg w-full lg:w-100">
              <img src="assets/quota-protest.png" alt="Movie" />
            </figure>
          </div>
          <div class="card-body">
            <div>
              <a class="btn btn-disabled text-black">
                <img src="./assets/coin.png" alt="" />
                <span class="donationTotal">0</span> BDT</a
              >
            </div>
            <h2 class="card-title text-2xl">
              Aid for Injured in the Quota Movement
            </h2>
            <p class="text-justify">
              The recent Quota movement has resulted in numerous injuries and
              significant hardship for many individuals. Your support is crucial
              in providing medical assistance, rehabilitation, and necessary
              supplies to those affected. By contributing, you help ensure that
              injured individuals receive the care and support they need during
              this challenging time. Every donation plays a vital role in
              alleviating their suffering and aiding in their recovery. Please
              consider making a donation to support these brave individuals in
              their time of need.
            </p>

            <input
              type="number"
              placeholder="Write Donation Amount"
              class="input w-full"
            />
            <a class="btn donate-btn bg-[#B4F461] text-lg font-bold text-black">
              Donate Now
            </a>
          </div>
        </div>
      </div>
    </section>

    <dialog id="my_modal_3" class="modal">
      <div class="modal-box">
        <form method="dialog">
          <button
            class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"
          >
            âœ•
          </button>
        </form>
        <h3 class="font-bold text-4xl text-red-800 text-center">ERROR!</h3>
        <p class="py-4 text-center">please enter a valid amount</p>
      </div>
    </dialog>
    <!-- History Section -->
    <section class="historyCards"></section>

    <script>
      const availableBalance = document.getElementById("availableBalance");
      console.log(availableBalance);
      function donationClick(inputAmount, totalamount) {
        if (parseFloat(availableBalance.innerHTML) >= inputAmount) {
          if (!isNaN(inputAmount) && inputAmount > 0) {
            totalamount = totalamount + inputAmount;
            availableBalance.innerHTML = parseFloat(
              availableBalance.innerHTML - inputAmount
            );
            return totalamount;
          } else {
            document.getElementById("my_modal_3").showModal();
            return totalAmount;
          }
        } else {
          alert("not enough balance");
          return totalamount;
        }
      }
      const cards = document.querySelectorAll(".card");
      console.log(cards);

      cards.forEach((card) => {
        const donateButton = card.querySelector(".donate-btn");
        const donationAmountInput = card.querySelector("input.input");
        const donationTotalSpan = card.querySelector(".donationTotal");

        donateButton.addEventListener("click", () => {
          const total = donationClick(
            parseFloat(donationAmountInput.value),
            parseFloat(donationTotalSpan.innerHTML)
          );
          console.log(total);
          console.log(donationTotalSpan);
          donationTotalSpan.innerHTML = total;
          donationAmountInput.value = " ";
        });
      });
    </script>
  </body>
</html>
